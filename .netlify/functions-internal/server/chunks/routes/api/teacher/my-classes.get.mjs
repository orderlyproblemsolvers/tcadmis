import{d as s,e as t,a as e,c as o}from"../../../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";const r=s(async s=>{const r=(await t(s)).user.id,a=e();try{const s="\n      SELECT \n        c.name as class_name,\n        (SELECT COUNT(*) FROM students s WHERE s.class_level = c.name) as student_count\n      FROM classes c \n      WHERE c.teacher_id = ?\n    ",t=await a.execute(s,[r]);return{classes:Array.isArray(t)?t:t.rows||[]}}catch(s){throw console.error("My Classes API Error:",s),o({statusCode:500,message:s.message})}});export{r as default};
//# sourceMappingURL=my-classes.get.mjs.map

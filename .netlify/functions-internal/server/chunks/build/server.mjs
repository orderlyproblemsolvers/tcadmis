import e from"node:process";globalThis._importMeta_=globalThis._importMeta_||{url:"file:///_entry.js",env:e.env};import{computed as t,hasInjectionContext as o,inject as n,toRef as r,isRef as a,getCurrentInstance as i,defineComponent as s,createElementBlock as l,shallowRef as u,provide as c,cloneVNode as d,h as p,defineAsyncComponent as f,unref as m,shallowReactive as h,ref as g,Suspense as y,Fragment as v,createApp as x,onErrorCaptured as b,onServerPrefetch as w,createVNode as C,resolveDynamicComponent as k,reactive as _,effectScope as R,isReadonly as N,isShallow as P,isReactive as j,toRaw as A,mergeProps as S,getCurrentScope as E,withCtx as $,nextTick as O,useSSRContext as T}from"vue";import{q as H,t as L,c as M,v as D,w as W,x as q,y as B,z as U,A as F,B as I,$ as z,C as K,D as G,E as J,F as Y,G as X,H as Q}from"../_/nitro.mjs";import{setActivePinia as V,createPinia as Z,shouldHydrate as ee}from"pinia";import{useRoute as te,RouterView as oe,createMemoryHistory as ne,createRouter as re,START_LOCATION as ae}from"vue-router";import ie from"tailwindcss/colors";import{_api as se,addAPIProvider as le,setCustomIconsLoader as ue}from"@iconify/vue";import{ssrRenderSuspense as ce,ssrRenderComponent as de,ssrRenderVNode as pe}from"vue/server-renderer";import{u as fe,h as me}from"../routes/renderer.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";globalThis.$fetch||(globalThis.$fetch=z.create({baseURL:K()})),"global"in globalThis||(globalThis.global=globalThis);const he={componentName:"NuxtLink"},ge={deep:!1},ye={},ve="nuxt-app";function getNuxtAppCtx(e=ve){return I(e,{asyncContext:!1})}const xe="__nuxt_plugin";function registerPluginHooks(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}function defineNuxtPlugin(e){if("function"==typeof e)return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[xe]:!0,_name:t})}const be=defineNuxtPlugin;function callWithNuxt(e,t,o){const fn=()=>t(),n=getNuxtAppCtx(e._id);return e.vueApp.runWithContext(()=>n.callAsync(e,fn))}function useNuxtApp(e){const t=function(e){let t;return o()&&(t=i()?.appContext.app.$nuxt),t||=getNuxtAppCtx(e).tryUse(),t||null}(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function useRuntimeConfig(e){return useNuxtApp().$config}function defineGetter(e,t,o){Object.defineProperty(e,t,{get:()=>o})}const we=Symbol("layout-meta"),Ce=Symbol("route");globalThis._importMeta_.url.replace(/\/app\/.*$/,"/");const useRouter=()=>useNuxtApp()?.$router,useRoute=()=>o()?n(Ce,useNuxtApp()._route):useNuxtApp()._route;function defineNuxtRouteMiddleware(e){return e}const ke=/"/g,navigateTo=(e,t)=>{e||="/";const o="string"==typeof e?e:"path"in e?resolveRouteObject(e):useRouter().resolve(e).href,n=D(o,{acceptRelative:!0}),r=t?.external||n;if(r){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:e}=new URL(o,"http://localhost");if(e&&W(e))throw new Error(`Cannot navigate to a URL with '${e}' protocol.`)}const a=(()=>{try{if(useNuxtApp()._processingMiddleware)return!0}catch{return!1}return!1})(),i=useRouter(),s=useNuxtApp();if(s.ssrContext){const l="string"==typeof e||r?o:i.resolve(e).fullPath||"/",u=r?o:q(useRuntimeConfig().app.baseURL,l),redirect=async function(e){await s.callHook("app:redirected");const o=u.replace(ke,"%22"),r=function(e,t=!1){const o=new URL(e,"http://localhost");if(!t)return o.pathname+o.search+o.hash;if(e.startsWith("//"))return o.toString().replace(o.protocol,"");return o.toString()}(u,n);return s.ssrContext._renderResponse={statusCode:F(t?.redirectCode||302,302),body:`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${o}"></head></html>`,headers:{location:r}},e};return!r&&a?(i.afterEach(e=>e.fullPath===l?redirect(!1):void 0),e):redirect(!a&&void 0)}return r?(s._scope.stop(),t?.replace?(void 0).replace(o):(void 0).href=o,a?!!s.isHydrating&&new Promise(()=>{}):Promise.resolve()):t?.replace?i.replace(e):i.push(e)};function resolveRouteObject(e){return B(e.path||"",e.query||{})+(e.hash||"")}const _e="__nuxt_error",useError=()=>r(useNuxtApp().payload,"error"),showError=e=>{const t=createError(e);try{const e=useError();0,e.value||=t}catch{throw t}return t},isNuxtError=e=>!!e&&"object"==typeof e&&_e in e,createError=e=>{const t=M(e);return Object.defineProperty(t,_e,{value:!0,configurable:!1,writable:!1}),t};function useHead(e,t={}){const r=t.head||function(e){const t=e||useNuxtApp();return t.ssrContext?.head||t.runWithContext(()=>{if(o()){const e=n(me);if(!e)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return e}})}(t.nuxt);return fe(e,{head:r,...t})}function definePayloadReducer(e,t){useNuxtApp().ssrContext._payloadReducers[e]=t}const Re=be(()=>{definePayloadReducer("skipHydrate",e=>!ee(e)&&1)}),Ne=defineNuxtPlugin({name:"nuxt:head",enforce:"pre",setup(e){const t=e.ssrContext.head;e.vueApp.use(t)}});function toArray(e){return Array.isArray(e)?e:[e]}const Pe=[{name:"index",path:"/",component:()=>import("./index-qxKJGO8s.mjs")},{name:"login",path:"/login",component:()=>import("./index-DuuDYumD.mjs")},{name:"report-id",path:"/report/:id()",meta:{middleware:"auth"},component:()=>import("./_id_-CN1whmNe.mjs")},{name:"admin-staff",path:"/admin/staff",meta:{...{layout:"admin"}||{},middleware:"auth"},component:()=>import("./index-Dc65RLSI.mjs")},{name:"admin-classes-id",path:"/admin/classes/:id()",meta:{...{layout:"admin"}||{},middleware:"auth"},component:()=>import("./_id_-BrMJ4tU2.mjs")},{name:"teacher-class-id",path:"/teacher/class/:id()",meta:{...{layout:"teacher"}||{},middleware:"auth"},component:()=>import("./_id_-Dm1hyR_z.mjs")},{name:"admin-students-id",path:"/admin/students/:id()",meta:{...{layout:"admin"}||{},middleware:"auth"},component:()=>import("./_id_-DEb9KVld.mjs")},{name:"admin-register",path:"/admin/register",meta:{...{layout:"admin"}||{},middleware:"auth"},component:()=>import("./index-CNx3r-xz.mjs")},{name:"teacher-results-id",path:"/teacher/results/:id()",meta:{middleware:"auth"},component:()=>import("./_id_-8nbeEnHg.mjs")},{name:"admin-dashboard",path:"/admin/dashboard",meta:{...{layout:"admin"}||{},middleware:"auth"},component:()=>import("./index-DdDV8qA8.mjs")},{name:"teacher-students-id",path:"/teacher/students/:id()",meta:{...{layout:"teacher"}||{},middleware:"auth"},component:()=>import("./_id_-CiEQDhEN.mjs")},{name:"teacher-dashboard",path:"/teacher/dashboard",meta:{...{layout:"teacher"}||{},middleware:"auth"},component:()=>import("./index-Ds-Krrgn.mjs")}],je=/(:\w+)\([^)]+\)/g,Ae=/(:\w+)[?+*]/g,Se=/:\w+/g;function generateRouteKey(e){const t=e?.meta.key??e.path.replace(je,"$1").replace(Ae,"$1").replace(Se,t=>e.params[t.slice(1)]?.toString()||"");return"function"==typeof t?t(e):t}function _getHashElementScrollMarginTop(e){try{const t=(void 0).querySelector(e);if(t)return(Number.parseFloat(getComputedStyle(t).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle((void 0).documentElement).scrollPaddingTop)||0)}catch{}return 0}function _calculatePosition(e,t,o,n){if(o)return o;const r=function(e,t){return e!==t&&t!==ae&&(generateRouteKey(e)!==generateRouteKey(t)||!e.matched.every((e,o)=>e.components&&e.components.default===t.matched[o]?.components?.default))}(e,t);return e.hash?{el:e.hash,top:_getHashElementScrollMarginTop(e.hash),behavior:r?n:"instant"}:{left:0,top:0}}const Ee={hashMode:!1,scrollBehaviorType:"auto",...{scrollBehavior(e,t,o){const n=useNuxtApp(),r=useRouter().options?.scrollBehaviorType??"auto";if(e.path.replace(/\/$/,"")===t.path.replace(/\/$/,""))return t.hash&&!e.hash?{left:0,top:0}:!!e.hash&&{el:e.hash,top:_getHashElementScrollMarginTop(e.hash),behavior:r};if(!1===("function"==typeof e.meta.scrollToTop?e.meta.scrollToTop(e,t):e.meta.scrollToTop))return!1;const a=n._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(i=>{t!==ae?n.hooks.hookOnce(a,()=>{requestAnimationFrame(()=>i(_calculatePosition(e,t,o,r)))}):i(_calculatePosition(e,t,o,r))})}}};function useState(...e){const t="string"==typeof e[e.length-1]?e.pop():void 0;"string"!=typeof e[0]&&e.unshift(t);const[o,n]=e;if(!o||"string"!=typeof o)throw new TypeError("[nuxt] [useState] key must be a string: "+o);if(void 0!==n&&"function"!=typeof n)throw new Error("[nuxt] [useState] init must be a function: "+n);const i="$s"+o,s=useNuxtApp(),l=r(s.payload.state,i);if(void 0===l.value&&n){const e=n();if(a(e))return s.payload.state[i]=e,e;l.value=e}return l}function useRequestEvent(e){return e||=useNuxtApp(),e.ssrContext?.event}function useRequestFetch(){return useRequestEvent()?.$fetch||globalThis.$fetch}function useUserSession(){const e=useRequestEvent(),o=useState("nuxt-session",()=>null),n=useState("nuxt-auth-ready",()=>!1),fetch=async()=>{o.value=await useRequestFetch()("/api/_auth/session",{headers:{accept:"application/json"},retry:!1}).catch(()=>null),n.value||(n.value=!0)},popupListener=e=>{"temp-nuxt-auth-utils-popup"===e.key&&(fetch(),(void 0).removeEventListener("storage",popupListener))};return{ready:t(()=>n.value),loggedIn:t(()=>Boolean(o.value?.user)),user:t(()=>o.value?.user||null),session:o,fetch:fetch,openInPopup:(e,t={})=>{localStorage.setItem("temp-nuxt-auth-utils-popup","true");const o=t.width??960,n=t.height??600,r=((void 0).top?.outerHeight??0)/2+((void 0).top?.screenY??0)-n/2,a=((void 0).top?.outerWidth??0)/2+((void 0).top?.screenX??0)-o/2;(void 0).open(e,"nuxt-auth-utils-popup",`width=${o}, height=${n}, top=${r}, left=${a}, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no`),(void 0).addEventListener("storage",popupListener)},clear:async()=>{await useRequestFetch()("/api/_auth/session",{method:"DELETE",onResponse({response:{headers:t}}){if(e)for(const o of t.getSetCookie())U(e,"Set-Cookie",o)}}),o.value=null}}}const $e=[defineNuxtRouteMiddleware(async(e,t)=>{let o,n;if(!e.meta?.validate)return;const r=([o,n]=J(()=>Promise.resolve(e.meta.validate(e))),o=await o,n(),o);if(!0===r)return;return createError({fatal:!1,statusCode:r&&r.statusCode||404,statusMessage:r&&r.statusMessage||`Page Not Found: ${e.fullPath}`,data:{path:e.fullPath}})}),defineNuxtRouteMiddleware(e=>{const{loggedIn:t,user:o}=useUserSession();if("/"===e.path){if(!t.value)return navigateTo("/login");if("admin"===o.value?.role)return navigateTo("/admin/dashboard");if("teacher"===o.value?.role)return navigateTo("/teacher/dashboard")}if(!t.value&&"/login"!==e.path)return navigateTo("/login");if(t.value&&"/login"===e.path){if("admin"===o.value?.role)return navigateTo("/admin/dashboard");if("teacher"===o.value?.role)return navigateTo("/teacher/dashboard")}return e.path.startsWith("/admin")&&"admin"!==o.value?.role||e.path.startsWith("/teacher")&&"teacher"!==o.value?.role&&"admin"!==o.value?.role?navigateTo("/"):void 0}),defineNuxtRouteMiddleware(async e=>{})],Oe={},Te=defineNuxtPlugin({name:"nuxt:router",enforce:"pre",async setup(e){let t,o,n=useRuntimeConfig().app.baseURL;const r=Ee.history?.(n)??ne(n),a=Ee.routes?([t,o]=J(()=>Ee.routes(Pe)),t=await t,o(),t??Pe):Pe;let i;const s=re({...Ee,scrollBehavior:(e,t,o)=>{if(t!==ae){if(Ee.scrollBehavior){if(s.options.scrollBehavior=Ee.scrollBehavior,"scrollRestoration"in(void 0).history){const e=s.beforeEach(()=>{e(),(void 0).history.scrollRestoration="manual"})}return Ee.scrollBehavior(e,ae,i||o)}}else i=o},history:r,routes:a});e.vueApp.use(s);const l=u(s.currentRoute.value);s.afterEach((e,t)=>{l.value=t}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const c=e.ssrContext.url,d=u(s.currentRoute.value),syncCurrentRoute=()=>{d.value=s.currentRoute.value};s.afterEach((e,t)=>{e.matched.at(-1)?.components?.default===t.matched.at(-1)?.components?.default&&syncCurrentRoute()});const p={sync:syncCurrentRoute};for(const e in d.value)Object.defineProperty(p,e,{get:()=>d.value[e],enumerable:!0});e._route=h(p),e._middleware||={global:[],named:{}},e.ssrContext?.islandContext||s.afterEach(async(t,o,n)=>{delete e._processingMiddleware,n&&await e.callHook("page:loading:end"),4!==n?.type&&t.redirectedFrom&&t.fullPath!==c&&await e.runWithContext(()=>navigateTo(t.fullPath||"/"))});try{[t,o]=J(()=>s.push(c)),await t,o(),[t,o]=J(()=>s.isReady()),await t,o()}catch(n){[t,o]=J(()=>e.runWithContext(()=>showError(n))),await t,o()}const f=s.currentRoute.value;if(syncCurrentRoute(),e.ssrContext?.islandContext)return{provide:{router:s}};const m=e.payload.state._layout;return s.beforeEach(async(t,o)=>{if(await e.callHook("page:loading:start"),t.meta=_(t.meta),e.isHydrating&&m&&!N(t.meta.layout)&&(t.meta.layout=m),e._processingMiddleware=!0,!e.ssrContext?.islandContext){const n=new Set([...$e,...e._middleware.global]);for(const e of t.matched){const t=e.meta.middleware;if(t)for(const e of toArray(t))n.add(e)}{const o=await e.runWithContext(()=>async function(e){const t="string"==typeof e?e:e.path;{useNuxtApp().ssrContext._preloadManifest=!0;const e=Y(X({routes:useRuntimeConfig().nitro.routeRules}));return Q({},...e.matchAll(t).reverse())}}({path:t.path}));if(o.appMiddleware)for(const e in o.appMiddleware)o.appMiddleware[e]?n.add(e):n.delete(e)}for(const r of n){const n="string"==typeof r?e._middleware.named[r]||await(Oe[r]?.().then(e=>e.default||e)):r;if(!n)throw new Error(`Unknown route middleware: '${r}'.`);try{0;const r=await e.runWithContext(()=>n(t,o));if(!1===r||r instanceof Error){const t=r||createError({statusCode:404,statusMessage:`Page Not Found: ${c}`});return await e.runWithContext(()=>showError(t)),!1}if(!0===r)continue;if(!1===r)return r;if(r)return isNuxtError(r)&&r.fatal&&await e.runWithContext(()=>showError(r)),r}catch(t){const o=createError(t);return o.fatal&&await e.runWithContext(()=>showError(o)),o}}}}),s.onError(async()=>{delete e._processingMiddleware,await e.callHook("page:loading:end")}),s.afterEach(t=>{if(0===t.matched.length)return e.runWithContext(()=>showError(createError({statusCode:404,fatal:!1,statusMessage:`Page not found: ${t.fullPath}`,data:{path:t.fullPath}})))}),e.hooks.hookOnce("app:created",async()=>{try{"name"in f&&(f.name=void 0),await s.replace({...f,force:!0}),s.options.scrollBehavior=Ee.scrollBehavior}catch(t){await e.runWithContext(()=>showError(t))}}),{provide:{router:s}}}}),He=defineNuxtPlugin({name:"session-fetch-plugin",enforce:"pre",async setup(e){let t,o;e.payload.isCached=Boolean(useRequestEvent()?.context.cache),!e.payload.serverRendered||e.payload.prerenderedAt||e.payload.isCached||"client-only"===e.$config.public.auth.loadStrategy||([t,o]=J(()=>useUserSession().fetch()),await t,o())}}),Le=[["NuxtError",e=>isNuxtError(e)&&e.toJSON()],["EmptyShallowRef",e=>a(e)&&P(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["EmptyRef",e=>a(e)&&!e.value&&("bigint"==typeof e.value?"0n":JSON.stringify(e.value)||"_")],["ShallowRef",e=>a(e)&&P(e)&&e.value],["ShallowReactive",e=>j(e)&&P(e)&&A(e)],["Ref",e=>a(e)&&e.value],["Reactive",e=>j(e)&&A(e)]],Me=defineNuxtPlugin({name:"nuxt:revive-payload:server",setup(){for(const[e,t]of Le)definePayloadReducer(e,t)}});s({name:"ServerPlaceholder",render:()=>l("div")});const De=Symbol.for("nuxt:client-only");s({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:o}){const n=u(!1),r=i();return r&&(r._nuxtClientOnly=!0),c(De,!0),()=>{if(n.value){const e=t.default?.();return e&&1===e.length?[d(e[0],o)]:e}const r=t.fallback||t.placeholder;if(r)return p(r);const a=e.fallback||e.placeholder||"",i=e.fallbackTag||e.placeholderTag||"span";return l(i,o,a)}}});const We=L({nuxt:{},ui:{colors:{primary:"green",secondary:"blue",success:"green",info:"blue",warning:"yellow",error:"red",neutral:"slate"},icons:{arrowDown:"i-lucide-arrow-down",arrowLeft:"i-lucide-arrow-left",arrowRight:"i-lucide-arrow-right",arrowUp:"i-lucide-arrow-up",caution:"i-lucide-circle-alert",check:"i-lucide-check",chevronDoubleLeft:"i-lucide-chevrons-left",chevronDoubleRight:"i-lucide-chevrons-right",chevronDown:"i-lucide-chevron-down",chevronLeft:"i-lucide-chevron-left",chevronRight:"i-lucide-chevron-right",chevronUp:"i-lucide-chevron-up",close:"i-lucide-x",copy:"i-lucide-copy",copyCheck:"i-lucide-copy-check",dark:"i-lucide-moon",drag:"i-lucide-grip-vertical",ellipsis:"i-lucide-ellipsis",error:"i-lucide-circle-x",external:"i-lucide-arrow-up-right",eye:"i-lucide-eye",eyeOff:"i-lucide-eye-off",file:"i-lucide-file",folder:"i-lucide-folder",folderOpen:"i-lucide-folder-open",hash:"i-lucide-hash",info:"i-lucide-info",light:"i-lucide-sun",loading:"i-lucide-loader-circle",menu:"i-lucide-menu",minus:"i-lucide-minus",panelClose:"i-lucide-panel-left-close",panelOpen:"i-lucide-panel-left-open",plus:"i-lucide-plus",reload:"i-lucide-rotate-ccw",search:"i-lucide-search",stop:"i-lucide-square",success:"i-lucide-circle-check",system:"i-lucide-monitor",tip:"i-lucide-lightbulb",upload:"i-lucide-upload",warning:"i-lucide-triangle-alert"},tv:{twMergeConfig:{}}},icon:{provider:"server",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,cssLayer:"components",mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codex","codicon","covid","cryptocurrency","cryptocurrency-color","cuida","dashicons","devicon","devicon-plain","dinkie-icons","duo-icons","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fa7-brands","fa7-regular","fa7-solid","fad","famicons","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-color","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","garden","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","ix","jam","la","lets-icons","line-md","lineicons","logos","ls","lsicon","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-icon-theme","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","meteor-icons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","nrk","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","picon","pixel","pixelarticons","prime","proicons","ps","qlementine-icons","quill","radix-icons","raphael","ri","rivet-icons","roentgen","si","si-glyph","sidekickicons","simple-icons","simple-line-icons","skill-icons","solar","stash","streamline","streamline-block","streamline-color","streamline-cyber","streamline-cyber-color","streamline-emojis","streamline-flex","streamline-flex-color","streamline-freehand","streamline-freehand-color","streamline-kameleon-color","streamline-logos","streamline-pixel","streamline-plump","streamline-plump-color","streamline-sharp","streamline-sharp-color","streamline-stickies-color","streamline-ultimate","streamline-ultimate-color","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","temaki","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}});function useAppConfig(){const e=useNuxtApp();return e._appConfig||=H(We),e._appConfig}const qe=defineNuxtPlugin({name:"pinia",setup(e){const t=Z();return e.vueApp.use(t),V(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}},hooks:{"app:rendered"(){const e=useNuxtApp();e.payload.pinia=A(e.$pinia).state.value,V(void 0)}}}),Be=[["Icon",f(()=>import("./index-DgrTGmjN.mjs").then(e=>e.default||e.default||e))]],Ue=[50,100,200,300,400,500,600,700,800,900,950];function generateShades(e,t,o){const n=o?`${o}-`:"";return`${Ue.map(o=>`--ui-color-${e}-${o}: var(--${n}color-${"neutral"===t?"old-neutral":t}-${o}, ${function(e,t){return e in ie&&"object"==typeof ie[e]&&t in ie[e]?ie[e][t]:""}(t,o)});`).join("\n  ")}`}function generateColor(e,t){return`--ui-${e}: var(--ui-color-${e}-${t});`}const Fe="system",Ie=[Re,Ne,Te,He,Me,qe,defineNuxtPlugin({name:"nuxt:global-components",setup(e){for(const[t,o]of Be)e.vueApp.component(t,o),e.vueApp.component("Lazy"+t,o)}}),defineNuxtPlugin(()=>{const e=useAppConfig();useNuxtApp();const o=t(()=>{const{neutral:t,...o}=e.ui.colors,n=e.ui.prefix;return`@layer theme {\n  :root, :host {\n  ${Object.entries(e.ui.colors).map(([e,t])=>generateShades(e,t,n)).join("\n  ")}\n  }\n  :root, :host, .light {\n  ${Object.keys(o).map(e=>generateColor(e,500)).join("\n  ")}\n  }\n  .dark {\n  ${Object.keys(o).map(e=>generateColor(e,400)).join("\n  ")}\n  }\n}`});useHead({style:[{innerHTML:()=>o.value,tagPriority:-2,id:"nuxt-ui-colors"}]})}),defineNuxtPlugin(e=>{const t=e.ssrContext?.islandContext?g({}):useState("color-mode",()=>_({preference:Fe,value:Fe,unknown:!0,forced:!1})).value,o={};useHead({htmlAttrs:o}),useRouter().afterEach(e=>{const n=e.meta.colorMode;n&&"system"!==n?(t.value=o["data-color-mode-forced"]=n,t.forced=!0):"system"===n&&console.warn("You cannot force the colorMode to system at the page level.")}),e.provide("colorMode",t)}),defineNuxtPlugin({name:"@nuxt/icon",setup(){const e=useRuntimeConfig(),t=useAppConfig().icon;se.setFetch($fetch.native);const o=[];if("server"===t.provider){const n=e.app?.baseURL?.replace(/\/$/,"")??"";o.push(n+(t.localApiEndpoint||"/api/_nuxt_icon")),!0!==t.fallbackToApi&&"client-only"!==t.fallbackToApi||o.push(t.iconifyApiEndpoint)}else"none"===t.provider?se.setFetch(()=>Promise.resolve(new Response)):o.push(t.iconifyApiEndpoint);async function customIconLoader(e,t){try{const n=await $fetch(o[0]+"/"+t+".json",{query:{icons:e.join(",")}});if(!n||n.prefix!==t||!n.icons)throw new Error("Invalid data"+JSON.stringify(n));return n}catch(e){return console.error("Failed to load custom icons",e),null}}le("",{resources:o});for(const e of t.customCollections||[])e&&ue(customIconLoader,e)}})];function createLoadingIndicator(e={}){const{duration:o=2e3,throttle:n=200,hideDelay:r=500,resetDelay:a=400}=e;e.estimatedProgress;const i=useNuxtApp(),s=u(0),l=u(!1),c=u(!1);function set(e=0,t={}){if(!i.isHydrating){if(e>=100)return finish({force:t.force});s.value=e<0?0:e,t.force,l.value=!0}}function finish(e={}){s.value=100,e.error&&(c.value=!0),e.force&&(s.value=0,l.value=!1)}return{_cleanup:()=>{},progress:t(()=>s.value),isLoading:t(()=>l.value),error:t(()=>c.value),start:(e={})=>{c.value=!1,set(0,e)},set:set,finish:finish,clear:function(){}}}const ze=s({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},hideDelay:{type:Number,default:500},resetDelay:{type:Number,default:400},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(e,{slots:t,expose:o}){const{progress:n,isLoading:r,error:a,start:i,finish:s,clear:l}=function(e={}){const t=useNuxtApp();return t._loadingIndicator||=createLoadingIndicator(e)}({duration:e.duration,throttle:e.throttle,hideDelay:e.hideDelay,resetDelay:e.resetDelay,estimatedProgress:e.estimatedProgress});return o({progress:n,isLoading:r,error:a,start:i,finish:s,clear:l}),()=>p("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${e.height}px`,opacity:r.value?1:0,background:a.value?e.errorColor:e.color||void 0,backgroundSize:(n.value>0?100/n.value*100:0)+"% auto",transform:`scaleX(${n.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},t)}}),Ke={admin:f(()=>import("./admin-BdXPyio-.mjs").then(e=>e.default||e)),teacher:f(()=>import("./teacher-CnU3X90d.mjs").then(e=>e.default||e))},Ge=s({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup:(e,t)=>()=>p(Ke[e.name],e.layoutProps,t.slots)}),Je={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},Ye=s({name:"NuxtLayout",inheritAttrs:!1,props:Je,setup(e,o){const r=useNuxtApp(),a=n(Ce),i=!a||a===useRoute()?te():a,s=t(()=>{let t=m(e.name)??i?.meta.layout??"default";return t&&!(t in Ke)&&e.fallback&&(t=m(e.fallback)),t}),l=u();o.expose({layoutRef:l});const c=r.deferHydration();let d;return()=>{s.value&&s.value;const t=i?.meta.layoutTransition??false,n=d;return d=s.value,(r={default:()=>p(y,{suspensible:!0,onResolve:()=>{O(c)}},{default:()=>p(Xe,{layoutProps:S(o.attrs,{ref:l}),key:s.value||void 0,name:s.value,shouldProvide:!e.name,isRenderingNewLayout:e=>e!==n&&e===s.value,hasTransition:!!t},o.slots)})},{default:()=>r.default?.()}).default();var r}}}),Xe=s({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(e,t){const o=e.name;e.shouldProvide&&c(we,{isCurrent:e=>o===(e.meta.layout??"default")});const r=n(Ce);if(r&&r===useRoute()){const t=te(),o={};for(const n in t){const a=n;Object.defineProperty(o,a,{enumerable:!0,get:()=>e.isRenderingNewLayout(e.name)?t[a]:r[a]})}c(Ce,h(o))}return()=>!o||"string"==typeof o&&!(o in Ke)?t.slots.default?.():p(Ge,{key:o,layoutProps:e.layoutProps,name:o},t.slots)}}),Qe=((e="RouteProvider")=>s({name:e,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const t=e.renderKey,o=e.route,n={};for(const r in e.route)Object.defineProperty(n,r,{get:()=>t===e.renderKey?e.route[r]:o[r],enumerable:!0});return c(Ce,h(n)),()=>e.vnode?p(e.vnode,{ref:e.vnodeRef}):e.vnode}}))(),Ve=s({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,slots:o,expose:r}){const a=useNuxtApp(),i=g();return n(Ce,null),r({pageRef:i}),n(we,null),a.deferHydration(),()=>p(oe,{name:e.name,route:e.route,...t},{default:e=>p(y,{suspensible:!0},{default:()=>p(Qe,{vnode:o.default?normalizeSlot(o.default,e):e.Component,route:e.route,vnodeRef:i})})})}});function normalizeSlot(e,t){const o=e(t);return 1===o.length?p(o[0]):p(v,void 0,o)}const _export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o},Ze={};const et=Ze.setup;Ze.setup=(e,t)=>{const o=T();return(o.modules||(o.modules=new Set)).add("app.vue"),et?et(e,t):void 0};const tt=_export_sfc(Ze,[["ssrRender",function(e,t,o,n){const r=ze,a=Ye,i=Ve;t("\x3c!--[--\x3e"),t(de(r,{height:4,color:"#cc5500"},null,o)),t(de(a,null,{default:$((e,t,o,n)=>{if(!t)return[C(i)];t(de(i,null,null,o,n))}),_:1},o)),t("\x3c!--]--\x3e")}]]),ot={__name:"nuxt-error-page",__ssrInlineRender:!0,props:{error:Object},setup(e){const t=e.error,o=Number(t.statusCode||500),n=404===o,r=t.statusMessage??(n?"Page Not Found":"Internal Server Error"),a=t.message||t.toString(),i=f(()=>import("./error-404-DfDq14QW.mjs")),s=f(()=>import("./error-500-0SgYUzAn.mjs")),l=n?i:s;return(e,t,n,i)=>{t(de(m(l),S({statusCode:m(o),statusMessage:m(r),description:m(a),stack:m(undefined)},i),null,n))}}},nt=ot.setup;ot.setup=(e,t)=>{const o=T();return(o.modules||(o.modules=new Set)).add("../node_modules/nuxt/dist/app/components/nuxt-error-page.vue"),nt?nt(e,t):void 0};const rt={__name:"nuxt-root",__ssrInlineRender:!0,setup(e){const IslandRenderer=()=>null,t=useNuxtApp();t.deferHydration(),t.ssrContext.url;const o=!1;c(Ce,useRoute()),t.hooks.callHookWith(e=>e.map(e=>e()),"vue:setup");const n=useError(),r=n.value&&!t.ssrContext.error;b((e,o,n)=>{t.hooks.callHook("vue:error",e,o,n).catch(e=>console.error("[nuxt] Error in `vue:error` hook",e));{const o=t.runWithContext(()=>showError(e));return w(()=>o),!1}});const a=t.ssrContext.islandContext;return(e,t,i,s)=>{ce(t,{default:()=>{m(r)?t("<div></div>"):m(n)?t(de(m(ot),{error:m(n)},null,i)):m(a)?t(de(m(IslandRenderer),{context:m(a)},null,i)):m(o)?pe(t,C(k(m(o)),null,null),i):t(de(m(tt),null,null,i))},_:1})}}},at=rt.setup;let it;rt.setup=(e,t)=>{const o=T();return(o.modules||(o.modules=new Set)).add("../node_modules/nuxt/dist/app/components/nuxt-root.vue"),at?at(e,t):void 0},it=async function(e){const t=x(rt),o=function(e){let t=0;const o={_id:e.id||ve||"nuxt-app",_scope:R(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return o.vueApp.version}},payload:h({...e.ssrContext?.payload||{},data:h({}),state:_({}),once:new Set,_errors:h({})}),static:{data:{}},runWithContext:e=>o._scope.active&&!E()?o._scope.run(()=>callWithNuxt(o,e)):callWithNuxt(o,e),isHydrating:!1,deferHydration(){if(!o.isHydrating)return()=>{};t++;let e=!1;return()=>{if(!e)return e=!0,t--,0===t?(o.isHydrating=!1,o.callHook("app:suspense:resolve")):void 0}},_asyncDataPromises:{},_asyncData:h({}),_payloadRevivers:{},...e};o.payload.serverRendered=!0,o.ssrContext&&(o.payload.path=o.ssrContext.url,o.ssrContext.nuxt=o,o.ssrContext.payload=o.payload,o.ssrContext.config={public:o.ssrContext.runtimeConfig.public,app:o.ssrContext.runtimeConfig.app}),o.hooks=G(),o.hook=o.hooks.hook;{const contextCaller=async function(e,t){for(const n of e)await o.runWithContext(()=>n(...t))};o.hooks.callHook=(e,...t)=>o.hooks.callHookWith(contextCaller,e,...t)}o.callHook=o.hooks.callHook,o.provide=(e,t)=>{const n="$"+e;defineGetter(o,n,t),defineGetter(o.vueApp.config.globalProperties,n,t)},defineGetter(o.vueApp,"$nuxt",o),defineGetter(o.vueApp.config.globalProperties,"$nuxt",o);const n=e.ssrContext.runtimeConfig;return o.provide("config",n),o}({vueApp:t,ssrContext:e});try{await async function(e,t){const o=new Set,n=[],r=[];let a,i=0;async function executePlugin(s){const l=s.dependsOn?.filter(e=>t.some(t=>t._name===e)&&!o.has(e))??[];if(l.length>0)n.push([new Set(l),s]);else{const t=async function(e,t){if("function"==typeof t){const{provide:o}=await e.runWithContext(()=>t(e))||{};if(o&&"object"==typeof o)for(const t in o)e.provide(t,o[t])}}(e,s).then(async()=>{s._name&&(o.add(s._name),await Promise.all(n.map(async([e,t])=>{e.has(s._name)&&(e.delete(s._name),0===e.size&&(i++,await executePlugin(t)))})))}).catch(t=>{if(!s.parallel&&!e.payload.error)throw t;a||=t});s.parallel?r.push(t):await t}}for(const o of t)e.ssrContext?.islandContext&&!1===o.env?.islands||registerPluginHooks(e,o);for(const o of t)e.ssrContext?.islandContext&&!1===o.env?.islands||await executePlugin(o);if(await Promise.all(r),i)for(let e=0;e<i;e++)await Promise.all(r);if(a)throw e.payload.error||a}(o,Ie),await o.hooks.callHook("app:created",t)}catch(e){await o.hooks.callHook("app:error",e),o.payload.error||=createError(e)}if(e?._renderResponse)throw new Error("skipping render");return t};const entry_default=e=>it(e);export{_export_sfc as _,useUserSession as a,useRouter as b,useRoute as c,useState as d,entry_default as default,useAppConfig as e,useNuxtApp as f,useRuntimeConfig as g,ye as h,useRequestFetch as i,he as j,ge as k,createError as l,navigateTo as n,resolveRouteObject as r,useHead as u};
//# sourceMappingURL=server.mjs.map

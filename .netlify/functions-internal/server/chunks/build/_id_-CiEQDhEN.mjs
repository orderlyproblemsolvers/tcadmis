import{_ as e}from"./nuxt-link-Bg1T6Ek3.mjs";import{_ as t}from"./Icon-nvTqRNH0.mjs";import{defineComponent as s,withAsyncContext as r,computed as a,mergeProps as d,withCtx as i,createTextVNode as o,unref as l,toDisplayString as n,createVNode as p,useSSRContext as c}from"vue";import{ssrRenderAttrs as m,ssrRenderComponent as x,ssrInterpolate as u,ssrRenderAttr as v,ssrRenderList as b}from"vue/server-renderer";import{c as f}from"./server.mjs";import{u as g}from"./fetch-Cnghzd6E.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"./index-DgrTGmjN.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./asyncData-DWeUa_vf.mjs";import"pinia";import"vue-router";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"reka-ui";import"@vueuse/core";import"@vue/shared";const h=s({__name:"[id]",__ssrInlineRender:!0,async setup(s){let c,h;const y=f().params.id,{data:w,pending:_,error:$}=([c,h]=r(()=>g("/api/teacher/student-details",{params:{id:y}},"$eH2HMHFzQw")),c=await c,h(),c),j=a(()=>w.value?.student),D=a(()=>w.value?.history||[]);return(s,r,a,c)=>{const f=e,g=t;r(`<div${m(d({class:"p-4 sm:p-8 max-w-5xl mx-auto"},c))}><div class="mb-8"><div class="flex items-center gap-2 text-sm text-gray-500 mb-4">`),r(x(f,{to:"/teacher/dashboard",class:"hover:text-[#09033B]"},{default:i((e,t,s,r)=>{if(!t)return[o("Dashboard")];t("Dashboard")}),_:1},a)),r("<span>/</span>"),l(j)?r(x(f,{to:`/teacher/class/${l(j).class_level}`,class:"hover:text-[#09033B]"},{default:i((e,t,s,r)=>{if(!t)return[o(n(l(j).class_level),1)];t(`${u(l(j).class_level)}`)}),_:1},a)):r("<span>...</span>"),r('<span>/</span><span class="text-gray-900 font-medium">Student Profile</span></div><h1 class="text-3xl font-bold text-[#09033B]">Student Details</h1></div>'),l(_)?r('<div class="text-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#09033B] mx-auto"></div></div>'):l($)?(r(`<div class="bg-red-50 p-4 rounded text-red-600 text-center border border-red-200"><p class="font-bold">Access Denied</p><p class="text-sm">${u(l($).message)}</p>`),r(x(f,{to:"/teacher/dashboard",class:"text-sm underline mt-2 inline-block"},{default:i((e,t,s,r)=>{if(!t)return[o("Return to Dashboard")];t("Return to Dashboard")}),_:1},a)),r("</div>")):l(j)?(r('<div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-1 space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"><div class="bg-[#09033B] h-24 relative"><div class="absolute -bottom-10 left-1/2 transform -translate-x-1/2"><div class="w-24 h-24 bg-white rounded-full p-1 shadow-lg overflow-hidden">'),l(j).photo_url?r(`<img${v("src",l(j).photo_url)} class="w-full h-full object-cover rounded-full">`):r(`<div class="w-full h-full bg-gray-100 rounded-full flex items-center justify-center text-3xl font-bold text-[#09033B]">${u(l(j).first_name.charAt(0))}${u(l(j).last_name.charAt(0))}</div>`),r(`</div></div></div><div class="pt-12 pb-6 px-6 text-center"><h2 class="text-xl font-bold text-gray-900">${u(l(j).last_name)}, ${u(l(j).first_name)}</h2><div class="flex justify-center gap-2 mt-2"><span class="text-gray-500 font-mono text-xs bg-gray-50 px-2 py-0.5 rounded border">${u(l(j).admission_number)}</span>`),l(j).special_needs?(r('<span class="text-white font-bold text-xs bg-purple-600 px-2 py-0.5 rounded flex items-center gap-1">'),r(x(g,{name:"i-heroicons-sparkles",class:"w-3 h-3"},null,a)),r(" Special Needs </span>")):r("\x3c!----\x3e"),r(`</div><div class="mt-6 text-sm text-left space-y-3 bg-gray-50 p-4 rounded border border-gray-100"><div class="flex justify-between border-b border-gray-200 pb-2"><span class="text-gray-500 text-xs uppercase font-bold">Class</span><span class="font-medium text-[#09033B]">${u(l(j).class_level)}</span></div><div class="flex justify-between border-b border-gray-200 pb-2"><span class="text-gray-500 text-xs uppercase font-bold">DOB</span><span class="font-medium text-gray-900">${u(l(j).dob?new Date(l(j).dob).toLocaleDateString():"N/A")}</span></div><div class="flex justify-between"><span class="text-gray-500 text-xs uppercase font-bold">Gender</span><span class="font-medium text-gray-900">${u(l(j).gender)}</span></div></div><div class="mt-6 text-left"><h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Guardians</h4>`),l(j).parent1_name?r(`<div class="bg-white border border-gray-200 p-2 rounded mb-2 text-sm"><p class="font-bold text-[#09033B]">${u(l(j).parent1_name)}</p><div class="flex justify-between mt-1 text-xs"><span class="text-gray-500">${u(l(j).parent1_rel)}</span><a${v("href",`tel:${l(j).parent1_phone}`)} class="text-blue-600 hover:underline font-bold">${u(l(j).parent1_phone)}</a></div></div>`):r("\x3c!----\x3e"),r("</div>"),l(j).allergies?r(`<div class="mt-4 text-left"><h4 class="text-xs font-bold text-red-400 uppercase tracking-wider mb-1">Medical / Allergies</h4><div class="bg-red-50 text-red-800 text-xs p-2 rounded border border-red-100 font-medium">${u(l(j).allergies)}</div></div>`):r("\x3c!----\x3e"),r(`</div></div></div><div class="lg:col-span-2"><div class="bg-white rounded-lg shadow-sm border border-gray-200 min-h-[400px]"><div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center"><h3 class="font-bold text-gray-800">Academic History</h3><span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">${u(l(D).length)} Reports</span></div>`),0===l(D).length?(r('<div class="p-12 text-center text-gray-400">'),r(x(g,{name:"i-heroicons-document-magnifying-glass",class:"w-12 h-12 mx-auto mb-3 opacity-50"},null,a)),r("<p>No past records found.</p></div>")):(r('<div class="divide-y divide-gray-100">\x3c!--[--\x3e'),b(l(D),(e,t)=>{r(`<div class="p-4 hover:bg-gray-50 flex items-center justify-between transition-colors"><div class="flex items-center gap-4"><div class="bg-blue-50 text-blue-800 font-bold p-3 rounded-lg text-xs text-center min-w-[70px]">${u(e.session)}</div><div><p class="font-bold text-gray-900 text-sm">${u(e.term)}</p><p class="text-xs text-gray-500 mt-0.5">Class: ${u(e.class_level)}</p></div></div>`),r(x(f,{to:`/report/${l(j).id}?session=${e.session}&term=${e.term}`,target:"_blank",class:"text-blue-600 hover:underline text-sm font-bold flex items-center gap-1"},{default:i((e,t,s,r)=>{if(!t)return[p(g,{name:"i-heroicons-eye",class:"w-4 h-4"}),o(" View ")];t(x(g,{name:"i-heroicons-eye",class:"w-4 h-4"},null,s,r)),t(" View ")}),_:2},a)),r("</div>")}),r("\x3c!--]--\x3e</div>")),r("</div></div></div>")):r("\x3c!----\x3e"),r("</div>")}}}),y=h.setup;h.setup=(e,t)=>{const s=c();return(s.modules||(s.modules=new Set)).add("pages/teacher/students/[id].vue"),y?y(e,t):void 0};export{h as default};
//# sourceMappingURL=_id_-CiEQDhEN.mjs.map

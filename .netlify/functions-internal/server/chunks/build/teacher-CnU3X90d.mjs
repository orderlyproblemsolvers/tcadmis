import{_ as e}from"./nuxt-link-Bg1T6Ek3.mjs";import{defineComponent as t,ref as s,watch as o,withAsyncContext as a,computed as r,mergeProps as l,unref as n,withCtx as i,createBlock as d,createVNode as c,openBlock as u,toDisplayString as m,useSSRContext as p}from"vue";import{ssrRenderAttrs as h,ssrRenderAttr as v,ssrRenderClass as x,ssrRenderComponent as f,ssrRenderList as b,ssrInterpolate as g,ssrRenderSlot as w}from"vue/server-renderer";import{_ as y}from"./virtual_public-CL3mToM-.mjs";import{a as k,b as j,c as _}from"./server.mjs";import{u as $}from"./fetch-Cnghzd6E.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"pinia";import"vue-router";import"tailwindcss/colors";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"@vue/shared";import"./asyncData-DWeUa_vf.mjs";const M=t({__name:"teacher",__ssrInlineRender:!0,async setup(t){let p,M;const{user:C}=k();j();const B=_(),T=s(!1);o(()=>B.fullPath,()=>{T.value=!1});const{data:L,pending:z}=([p,M]=a(()=>$("/api/teacher/my-classes","$AqEHyMtrJQ")),p=await p,M(),p),A=r(()=>L.value?.classes||[]);return(t,s,o,a)=>{const r=e;s(`<div${h(l({class:"min-h-screen bg-gray-50 font-sans flex flex-col md:flex-row"},a))}><header class="bg-[#09033B] text-white p-4 flex justify-between items-center md:hidden sticky top-0 z-30 shadow-md"><div class="flex items-center gap-3"><button class="text-white focus:outline-none"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="flex items-center gap-2"><img${v("src",y)} alt="TCAD Logo" class="w-8 h-8 object-contain bg-white rounded-sm"><span class="font-bold tracking-wide">Teacher Portal</span></div></div></header>`),n(T)?s('<div class="fixed inset-0 bg-black/50 z-30 md:hidden transition-opacity"></div>'):s("\x3c!----\x3e"),s(`<aside class="${x(["fixed inset-y-0 left-0 z-40 w-64 bg-[#09033B] text-white flex flex-col shadow-xl transition-transform duration-300 ease-in-out",n(T)?"translate-x-0":"-translate-x-full","md:translate-x-0 md:static md:h-screen md:sticky md:top-0"])}"><div class="p-6 border-b border-blue-900 flex items-center justify-between"><div class="flex items-center gap-3"><img${v("src",y)} alt="TCAD Logo" class="w-8 h-8 object-contain bg-white rounded-sm"><span class="text-xl font-bold tracking-wide">Teacher Portal</span></div><button class="md:hidden text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div><nav class="flex-1 overflow-y-auto py-6 px-3 space-y-1">`),s(f(r,{to:"/teacher/dashboard","active-class":"bg-blue-800 text-white shadow",class:"w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center gap-3 text-gray-300 hover:bg-blue-900 hover:text-white mb-4"},{default:i((e,t,s,o)=>{if(!t)return[(u(),d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])),c("span",{class:"font-medium"},"Overview")];t(`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"${o}></path></svg><span class="font-medium"${o}>Overview</span>`)}),_:1},o)),s('<p class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">My Classes</p>'),n(z)?s('<div class="px-4 text-sm text-gray-500">Loading classes...</div>'):0===n(A).length?s('<div class="px-4 text-sm text-yellow-400 italic"> No classes assigned. </div>'):(s('<ul class="space-y-1">\x3c!--[--\x3e'),b(n(A),e=>{s("<li>"),s(f(r,{to:`/teacher/class/${e.class_name}`,"active-class":"bg-blue-800 text-white shadow border-r-4 border-blue-400",class:"flex items-center justify-between px-4 py-3 rounded-lg text-sm text-gray-300 hover:text-white hover:bg-blue-900 transition-colors"},{default:i((t,s,o,a)=>{if(!s)return[c("span",{class:"font-medium"},m(e.class_name),1),c("span",{class:"bg-blue-900 text-blue-200 text-xs py-0.5 px-2 rounded-full"},m(e.student_count),1)];s(`<span class="font-medium"${a}>${g(e.class_name)}</span><span class="bg-blue-900 text-blue-200 text-xs py-0.5 px-2 rounded-full"${a}>${g(e.student_count)}</span>`)}),_:2},o)),s("</li>")}),s("\x3c!--]--\x3e</ul>")),s(`</nav><div class="p-4 border-t border-blue-900 bg-[#07022e]"><div class="flex items-center gap-3 mb-4 px-2"><div class="w-8 h-8 rounded-full bg-blue-800 flex items-center justify-center text-xs font-bold">${g(n(C)?.full_name?.charAt(0))}</div><div class="overflow-hidden"><p class="text-sm font-bold truncate">${g(n(C)?.full_name)}</p><p class="text-xs text-gray-400">Teacher</p></div></div><button class="w-full flex items-center justify-center gap-2 text-red-300 hover:text-white hover:bg-red-600 py-2 rounded transition-colors text-sm font-bold"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg> Sign Out </button></div></aside><main class="flex-1 w-full md:w-auto bg-gray-50 overflow-y-auto h-[calc(100vh-64px)] md:h-screen">`),w(t.$slots,"default",{},null,s,o),s("</main></div>")}}}),C=M.setup;M.setup=(e,t)=>{const s=p();return(s.modules||(s.modules=new Set)).add("layouts/teacher.vue"),C?C(e,t):void 0};export{M as default};
//# sourceMappingURL=teacher-CnU3X90d.mjs.map

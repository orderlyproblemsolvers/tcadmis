import{inject as e,ref as t,nextTick as n}from"vue";import{d as a}from"./server.mjs";const o=Symbol("nuxt-ui.toast-max");function useToast(){const u=a("toasts",()=>[]),s=e(o,void 0),i=t(!1),l=[];return{toasts:u,add:function(e){const t={id:`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,open:!0,...e};return l.push(t),async function(){if(!i.value&&0!==l.length){for(i.value=!0;l.length>0;){const e=l.shift();await n(),u.value=[...u.value,e].slice(-(s?.value??5))}i.value=!1}}(),t},update:function(e,t){const n=u.value.findIndex(t=>t.id===e);-1!==n&&(u.value[n]={...u.value[n],...t})},remove:function(e){const t=u.value.findIndex(t=>t.id===e);-1!==t&&(u.value[t]={...u.value[t],open:!1}),setTimeout(()=>{u.value=u.value.filter(t=>t.id!==e)},200)},clear:function(){u.value=[]}}}export{useToast as u};
//# sourceMappingURL=useToast-CQ7Y19Cm.mjs.map

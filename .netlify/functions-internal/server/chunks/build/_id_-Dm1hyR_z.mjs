import{_ as e}from"./nuxt-link-Bg1T6Ek3.mjs";import{_ as t}from"./Icon-nvTqRNH0.mjs";import{defineComponent as r,withAsyncContext as s,computed as o,resolveComponent as i,mergeProps as a,unref as n,withCtx as d,createTextVNode as l,toDisplayString as c,createVNode as p,useSSRContext as m}from"vue";import{ssrRenderAttrs as u,ssrRenderComponent as x,ssrInterpolate as h,ssrRenderList as v}from"vue/server-renderer";import{c as f}from"./server.mjs";import{u as g}from"./fetch-Cnghzd6E.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"./index-DgrTGmjN.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./asyncData-DWeUa_vf.mjs";import"reka-ui";import"@vueuse/core";import"pinia";import"vue-router";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"@vue/shared";const b=r({__name:"[id]",__ssrInlineRender:!0,async setup(r){let m,b;const y=f().params.id,{data:w,pending:_,error:j}=([m,b]=s(()=>g("/api/teacher/class-roster",{params:{class_name:y}},"$ddbXghB9T9")),m=await m,b(),m),$=o(()=>w.value?.students||[]);return(r,s,o,m)=>{const f=i("UNotifications"),g=e,b=t;s(`<div${u(a({class:"p-4 sm:p-8"},m))}>`),s(x(f,null,null,o)),n(_)?s('<div class="text-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#09033B] mx-auto"></div></div>'):n(j)?s(`<div class="bg-red-50 p-4 rounded text-red-600 text-center">${h(n(j).message)}</div>`):(s(`<div><div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4"><div><span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Class Roster</span><h1 class="text-3xl font-extrabold text-[#09033B] mt-1">${h(n(y))}</h1><p class="text-sm text-gray-500 mt-1">Manage student results and reports for the current term.</p></div><div class="bg-blue-50 text-[#09033B] px-6 py-4 rounded-lg text-center min-w-[140px]"><span class="block text-3xl font-bold">${h(n($).length)}</span><span class="text-xs font-bold uppercase tracking-wide opacity-70">Students Enrolled</span></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Adm. No</th><th class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Student Name</th><th class="px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e`),v(n($),e=>{s(`<tr class="hover:bg-blue-50 transition-colors duration-150"><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono">${h(e.admission_number)}</td><td class="px-6 py-4 whitespace-nowrap">`),s(x(g,{to:`/teacher/students/${e.id}`,class:"text-sm font-bold text-gray-900 hover:text-blue-700 hover:underline flex items-center gap-2"},{default:d((t,r,s,o)=>{if(!r)return[l(c(e.last_name)+", "+c(e.first_name),1)];r(`${h(e.last_name)}, ${h(e.first_name)}`)}),_:2},o)),s('</td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex justify-end items-center gap-3">'),s(x(g,{to:`/teacher/results/${e.id}`,class:"inline-flex items-center px-3 py-1.5 border border-[#09033B] rounded text-[#09033B] hover:bg-[#09033B] hover:text-white transition-colors text-xs font-bold"},{default:d((e,t,r,s)=>{if(!t)return[p(b,{name:"i-heroicons-pencil-square",class:"w-4 h-4 mr-1.5"}),l(" Input Scores ")];t(x(b,{name:"i-heroicons-pencil-square",class:"w-4 h-4 mr-1.5"},null,r,s)),t(" Input Scores ")}),_:2},o)),s(x(g,{to:`/report/${e.id}`,class:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded text-gray-600 hover:bg-gray-100 hover:text-black transition-colors text-xs font-bold"},{default:d((e,t,r,s)=>{if(!t)return[p(b,{name:"i-heroicons-document-text",class:"w-4 h-4 mr-1.5"}),l(" View Report ")];t(x(b,{name:"i-heroicons-document-text",class:"w-4 h-4 mr-1.5"},null,r,s)),t(" View Report ")}),_:2},o)),s("</div></td></tr>")}),s("\x3c!--]--\x3e</tbody></table></div>"),0===n($).length?(s('<div class="py-16 text-center"><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4">'),s(x(b,{name:"i-heroicons-users",class:"w-8 h-8 text-gray-400"},null,o)),s(`</div><h3 class="text-lg font-medium text-gray-900">No Students Found</h3><p class="mt-1 text-gray-500">There are no students currently registered in ${h(n(y))}.</p></div>`)):s("\x3c!----\x3e"),s("</div></div>")),s("</div>")}}}),y=b.setup;b.setup=(e,t)=>{const r=m();return(r.modules||(r.modules=new Set)).add("pages/teacher/class/[id].vue"),y?y(e,t):void 0};export{b as default};
//# sourceMappingURL=_id_-Dm1hyR_z.mjs.map

import{_ as e}from"./Icon-nvTqRNH0.mjs";import{defineComponent as r,ref as t,resolveComponent as l,mergeProps as a,unref as o,useSSRContext as s}from"vue";import{ssrRenderAttrs as i,ssrRenderComponent as d,ssrRenderClass as n,ssrRenderAttr as c,ssrIncludeBooleanAttr as u,ssrLooseEqual as p,ssrLooseContain as b,ssrRenderList as m,ssrInterpolate as f}from"vue/server-renderer";import{u as g}from"./useToast-CQ7Y19Cm.mjs";import"./index-DgrTGmjN.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./server.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"pinia";import"vue-router";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"./asyncData-DWeUa_vf.mjs";import"reka-ui";import"@vueuse/core";const x=r({__name:"index",__ssrInlineRender:!0,setup(r){g();const s=t("student"),x=t(!1),y=t(!1),v=t({first_name:"",last_name:"",admission_number:"",class_level:"",gender:"Male",dob:"",photo_url:"",parent1_name:"",parent1_phone:"",parent1_rel:"",parent2_name:"",parent2_phone:"",parent2_rel:"",allergies:"",special_needs:!1}),h=t({full_name:"",email:"",password:"",photo_url:"",phone:"",address:"",qualification:"NCE",guarantor_name:"",guarantor_phone:"",guarantor_rel:""}),w=["Playgroup","Nursery 1","Nursery 2","Reading Readiness","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","JSS 1","JSS 2","JSS 3","SS 1","SS 2","SS 3"];return(r,t,g,_)=>{const $=l("UNotifications"),B=e;t(`<div${i(a({class:"max-w-5xl mx-auto p-4 sm:p-8"},_))}>`),t(d($,null,null,g)),t(`<div class="mb-8"><h1 class="text-3xl font-bold text-[#09033B]">Registration Center</h1><p class="text-gray-500">Add new members to the school database.</p></div><div class="flex border-b border-gray-200 mb-6 overflow-x-auto"><button class="${n(["student"===o(s)?"border-[#09033B] text-[#09033B]":"border-transparent text-gray-500","whitespace-nowrap py-4 px-6 border-b-2 font-medium focus:outline-none transition-colors"])}"> Register Student </button><button class="${n(["teacher"===o(s)?"border-[#09033B] text-[#09033B]":"border-transparent text-gray-500","whitespace-nowrap py-4 px-6 border-b-2 font-medium focus:outline-none transition-colors"])}"> Register Staff </button></div>`),"student"===o(s)?(t('<div class="bg-white p-6 rounded shadow-lg border border-gray-100"><h2 class="text-xl font-semibold mb-6 text-gray-800">New Student Profile</h2><form class="space-y-8"><div class="flex flex-col sm:flex-row gap-6 items-start border-b pb-6"><div class="w-32 h-32 flex-shrink-0 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden relative group">'),o(v).photo_url?t(`<img${c("src",o(v).photo_url)} class="w-full h-full object-cover">`):(t('<div class="text-gray-400 text-center p-2">'),t(d(B,{name:"i-heroicons-camera",class:"w-8 h-8 mx-auto mb-1"},null,g)),t('<span class="text-[10px] uppercase font-bold">No Photo</span></div>')),o(y)?t('<div class="absolute inset-0 bg-black/50 flex items-center justify-center"><div class="animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent"></div></div>'):t("\x3c!----\x3e"),t(`</div><div class="flex-1"><label class="block text-sm font-bold text-gray-700 mb-2">Student Passport Photo</label><input type="file" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"><p class="text-xs text-gray-500 mt-2">Recommended: Square JPG/PNG, Max 2MB.</p></div></div><div><h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-1">Basic Information</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700">First Name</label><input${c("value",o(v).first_name)} type="text" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]" required></div><div><label class="block text-sm font-medium text-gray-700">Last Name</label><input${c("value",o(v).last_name)} type="text" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]" required></div><div><label class="block text-sm font-medium text-gray-700">Date of Birth</label><input${c("value",o(v).dob)} type="date" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]"></div><div><label class="block text-sm font-medium text-gray-700">Gender</label><div class="mt-2 flex gap-4"><label class="inline-flex items-center cursor-pointer"><input type="radio"${u(p(o(v).gender,"Male"))?" checked":""} value="Male" class="text-[#09033B] focus:ring-[#09033B]"><span class="ml-2 text-sm text-gray-700">Male</span></label><label class="inline-flex items-center cursor-pointer"><input type="radio"${u(p(o(v).gender,"Female"))?" checked":""} value="Female" class="text-[#09033B] focus:ring-[#09033B]"><span class="ml-2 text-sm text-gray-700">Female</span></label></div></div><div><label class="block text-sm font-medium text-gray-700">Admission Number</label><input${c("value",o(v).admission_number)} type="text" placeholder="e.g. TCAD/2026/001" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]" required></div><div><label class="block text-sm font-medium text-gray-700">Assign to Class</label><select class="w-full border border-gray-300 p-2 rounded mt-1 bg-white focus:ring-[#09033B]" required><option value="" disabled${u(Array.isArray(o(v).class_level)?b(o(v).class_level,""):p(o(v).class_level,""))?" selected":""}>Select a Class...</option>\x3c!--[--\x3e`),m(w,e=>{t(`<option${c("value",e)}${u(Array.isArray(o(v).class_level)?b(o(v).class_level,e):p(o(v).class_level,e))?" selected":""}>${f(e)}</option>`)}),t(`\x3c!--]--\x3e</select></div></div></div><div><h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-1">Parent / Guardian Info</h3><div class="bg-gray-50 p-4 rounded mb-4 border border-gray-100"><p class="text-sm font-bold text-[#09033B] mb-2">Primary Contact</p><div class="grid grid-cols-1 md:grid-cols-3 gap-3"><input${c("value",o(v).parent1_name)} type="text" placeholder="Full Name" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><input${c("value",o(v).parent1_phone)} type="text" placeholder="Phone Number" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><select class="border border-gray-300 p-2 rounded text-sm bg-white focus:ring-[#09033B]"><option value="" disabled selected>Relationship</option><option${u(Array.isArray(o(v).parent1_rel)?b(o(v).parent1_rel,null):p(o(v).parent1_rel,null))?" selected":""}>Father</option><option${u(Array.isArray(o(v).parent1_rel)?b(o(v).parent1_rel,null):p(o(v).parent1_rel,null))?" selected":""}>Mother</option><option${u(Array.isArray(o(v).parent1_rel)?b(o(v).parent1_rel,null):p(o(v).parent1_rel,null))?" selected":""}>Guardian</option></select></div></div><div class="bg-gray-50 p-4 rounded border border-gray-100"><p class="text-sm font-bold text-[#09033B] mb-2">Secondary Contact (Optional)</p><div class="grid grid-cols-1 md:grid-cols-3 gap-3"><input${c("value",o(v).parent2_name)} type="text" placeholder="Full Name" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><input${c("value",o(v).parent2_phone)} type="text" placeholder="Phone Number" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><select class="border border-gray-300 p-2 rounded text-sm bg-white focus:ring-[#09033B]"><option value="" disabled selected>Relationship</option><option${u(Array.isArray(o(v).parent2_rel)?b(o(v).parent2_rel,null):p(o(v).parent2_rel,null))?" selected":""}>Father</option><option${u(Array.isArray(o(v).parent2_rel)?b(o(v).parent2_rel,null):p(o(v).parent2_rel,null))?" selected":""}>Mother</option><option${u(Array.isArray(o(v).parent2_rel)?b(o(v).parent2_rel,null):p(o(v).parent2_rel,null))?" selected":""}>Guardian</option></select></div></div></div><div><h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-1">Medical &amp; Additional Info</h3><div class="grid grid-cols-1 gap-4"><div><label class="block text-sm font-medium text-gray-700">Allergies / Dietary Restrictions</label><textarea rows="2" placeholder="e.g. Peanuts, Lactose Intolerant, Asthmatic..." class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]">${f(o(v).allergies)}</textarea></div><div class="flex items-center gap-2 bg-yellow-50 p-3 rounded border border-yellow-100"><input type="checkbox"${u(Array.isArray(o(v).special_needs)?b(o(v).special_needs,null):o(v).special_needs)?" checked":""} id="special_needs" class="h-4 w-4 text-[#09033B] border-gray-300 rounded focus:ring-[#09033B]"><label for="special_needs" class="text-sm font-bold text-gray-700 cursor-pointer">Does this student require Special Needs attention?</label></div></div></div><div class="pt-4 border-t border-gray-100"><button type="submit"${u(o(x)||o(y))?" disabled":""} class="w-full md:w-auto bg-[#09033B] text-white px-8 py-3 rounded shadow hover:bg-opacity-90 disabled:opacity-50 transition-all font-bold flex items-center justify-center gap-2">`),o(x)?t('<span class="animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"></span>'):t("\x3c!----\x3e"),t(` ${f(o(x)?"Saving Profile...":"Create Student Profile")}</button></div></form></div>`)):t("\x3c!----\x3e"),"teacher"===o(s)?(t('<div class="bg-white p-6 rounded shadow-lg border border-gray-100"><h2 class="text-xl font-semibold mb-6 text-gray-800">New Staff Profile</h2><form class="space-y-6"><div class="flex flex-col sm:flex-row gap-6 items-center border-b pb-6"><div class="w-24 h-24 flex-shrink-0 bg-gray-100 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden relative group">'),o(h).photo_url?t(`<img${c("src",o(h).photo_url)} class="w-full h-full object-cover">`):t(d(B,{name:"i-heroicons-user",class:"w-8 h-8 text-gray-400"},null,g)),o(y)?t('<div class="absolute inset-0 bg-black/50 flex items-center justify-center"><div class="animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"></div></div>'):t("\x3c!----\x3e"),t(`</div><div class="flex-1"><label class="block text-sm font-bold text-gray-700 mb-1">Staff Photo</label><input type="file" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700">Full Name</label><input${c("value",o(h).full_name)} type="text" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]" required></div><div><label class="block text-sm font-medium text-gray-700">Email (Login ID)</label><input${c("value",o(h).email)} type="email" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]" required></div><div><label class="block text-sm font-medium text-gray-700">Phone Number</label><input${c("value",o(h).phone)} type="text" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]"></div><div><label class="block text-sm font-medium text-gray-700">Qualification</label><select class="w-full border border-gray-300 p-2 rounded mt-1 bg-white focus:ring-[#09033B]"><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>NCE</option><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>B.Ed</option><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>B.Sc</option><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>M.Sc</option><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>PhD</option><option${u(Array.isArray(o(h).qualification)?b(o(h).qualification,null):p(o(h).qualification,null))?" selected":""}>SSCE</option></select></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700">Residential Address</label><textarea rows="2" class="w-full border border-gray-300 p-2 rounded mt-1 focus:ring-[#09033B]">${f(o(h).address)}</textarea></div></div><div class="bg-gray-50 p-4 rounded border border-gray-200"><h3 class="text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider">Guarantor Information</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-3"><input${c("value",o(h).guarantor_name)} type="text" placeholder="Guarantor Name" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><input${c("value",o(h).guarantor_phone)} type="text" placeholder="Phone Number" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"><input${c("value",o(h).guarantor_rel)} type="text" placeholder="Relationship" class="border border-gray-300 p-2 rounded text-sm focus:ring-[#09033B]"></div></div><div class="bg-blue-50 p-4 rounded border border-blue-100"><label class="block text-sm font-bold text-blue-900 mb-1">Set Login Password</label><div class="flex gap-2"><input${c("value",o(h).password)} type="text" class="flex-1 border border-blue-200 p-2 rounded text-sm" required><button type="button" class="bg-white border border-gray-300 px-3 py-1 rounded text-sm font-medium hover:bg-gray-50 text-gray-700">Generate</button></div><p class="text-xs text-blue-700 mt-2">Create this account, then copy the email and password to send to the staff member.</p></div><div class="pt-2"><button type="submit"${u(o(x)||o(y))?" disabled":""} class="w-full md:w-auto bg-[#09033B] text-white px-8 py-3 rounded shadow font-bold hover:bg-opacity-90 disabled:opacity-50 flex items-center justify-center gap-2">`),o(x)?t('<span class="animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"></span>'):t("\x3c!----\x3e"),t(` ${f(o(x)?"Creating...":"Create Staff Profile")}</button></div></form></div>`)):t("\x3c!----\x3e"),t("</div>")}}}),y=x.setup;x.setup=(e,r)=>{const t=s();return(t.modules||(t.modules=new Set)).add("pages/admin/register/index.vue"),y?y(e,r):void 0};export{x as default};
//# sourceMappingURL=index-CNx3r-xz.mjs.map

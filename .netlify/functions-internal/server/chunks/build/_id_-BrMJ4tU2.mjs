import{_ as e}from"./UiToast-mvu8s8Vz.mjs";import{_ as t}from"./nuxt-link-Bg1T6Ek3.mjs";import{defineComponent as s,ref as r,withAsyncContext as o,computed as a,mergeProps as l,withCtx as d,createBlock as n,createTextVNode as i,openBlock as p,createVNode as c,unref as u,useSSRContext as x}from"vue";import{ssrRenderAttrs as m,ssrRenderComponent as b,ssrInterpolate as f,ssrRenderList as g,ssrRenderClass as v,ssrRenderAttr as y,ssrIncludeBooleanAttr as h,ssrLooseContain as w,ssrLooseEqual as k}from"vue/server-renderer";import{c as $,b as B}from"./server.mjs";import{u as _}from"./useToast-CQ7Y19Cm.mjs";import{u as j}from"./fetch-Cnghzd6E.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"pinia";import"vue-router";import"tailwindcss/colors";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"@vue/shared";import"./asyncData-DWeUa_vf.mjs";const A=s({__name:"[id]",__ssrInlineRender:!0,async setup(s){let x,A;const C=$();B();const N=C.params.id,S=(_&&_(),r(!1)),q=r(!1),{data:D,refresh:F}=([x,A]=o(()=>j("/api/admin/class-details",{params:{class_name:N}},"$eEetYDJKWR")),x=await x,A(),x),M=a(()=>D.value?.students||[]),E=r({first_name:"",last_name:"",admission_number:"",gender:"Male"});return(s,r,o,a)=>{const x=e,$=t;r(`<div${m(l({class:"p-4 sm:p-8"},a))}>`),r(b(x,null,null,o)),r('<div class="flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8"><div>'),r(b($,{to:"/admin/dashboard",class:"text-sm text-gray-500 hover:text-[#09033B] mb-2 inline-flex items-center"},{default:d((e,t,s,r)=>{if(!t)return[(p(),n("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})])),i(" Back to Dashboard ")];t(`<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"${r}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"${r}></path></svg> Back to Dashboard `)}),_:1},o)),r(`<h1 class="text-2xl sm:text-3xl font-bold text-[#09033B]">${f(u(N))}</h1><p class="text-gray-500 text-sm sm:text-base">${f(u(M).length)} Students Enrolled</p></div><div class="flex gap-2 sm:gap-4 w-full md:w-auto"><div class="hidden sm:flex bg-white px-3 py-1 rounded border border-gray-200 shadow-sm flex-col items-center min-w-[80px]"><span class="text-[10px] text-gray-400 uppercase font-bold">Boys</span><span class="text-xl font-bold text-blue-600">${f(u(M).filter(e=>"Male"===e.gender).length)}</span></div><div class="hidden sm:flex bg-white px-3 py-1 rounded border border-gray-200 shadow-sm flex-col items-center min-w-[80px]"><span class="text-[10px] text-gray-400 uppercase font-bold">Girls</span><span class="text-xl font-bold text-pink-600">${f(u(M).filter(e=>"Female"===e.gender).length)}</span></div><button class="flex-1 md:flex-none justify-center bg-[#09033B] text-white px-6 py-2 rounded shadow hover:bg-opacity-90 flex items-center gap-2 transition-colors h-full"><span class="text-xl font-bold leading-none mb-0.5">+</span><span>Add Student</span></button></div></div><div class="bg-white shadow rounded-lg overflow-hidden border border-gray-200"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Admission No</th><th class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Full Name</th><th class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Gender</th><th class="px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="divide-y divide-gray-200 bg-white">\x3c!--[--\x3e`),g(u(M),e=>{r(`<tr class="hover:bg-blue-50 transition-colors cursor-pointer group"><td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-500">${f(e.admission_number)}</td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-bold text-gray-900 group-hover:text-blue-900">${f(e.last_name)}, ${f(e.first_name)}</div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${v(["px-2 py-1 text-xs font-bold rounded-full","Female"===e.gender?"bg-pink-100 text-pink-700":"bg-blue-100 text-blue-700"])}">${f(e.gender)}</span></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex justify-end items-center gap-3"><span class="text-xs font-bold text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity"> View Profile → </span></div></td></tr>`)}),r("\x3c!--]--\x3e"),0===u(M).length?r('<tr><td colspan="4" class="px-6 py-12 text-center text-gray-500 italic"> No students found. Click &quot;Add Student&quot; to enroll one. </td></tr>'):r("\x3c!----\x3e"),r("</tbody></table></div></div>"),u(S)?r(`<div class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm"><div class="bg-white rounded-lg shadow-xl max-w-md w-full overflow-hidden transform transition-all"><div class="bg-[#09033B] px-6 py-4 flex justify-between items-center"><h3 class="text-lg font-bold text-white">Register New Student</h3><button class="text-gray-300 hover:text-white">×</button></div><form class="p-6 space-y-4"><div class="grid grid-cols-2 gap-4"><div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">First Name</label><input${y("value",u(E).first_name)} type="text" required class="w-full border-gray-300 rounded focus:ring-[#09033B] focus:border-[#09033B] p-2 border text-sm"></div><div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Last Name</label><input${y("value",u(E).last_name)} type="text" required class="w-full border-gray-300 rounded focus:ring-[#09033B] focus:border-[#09033B] p-2 border text-sm"></div></div><div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Admission Number</label><input${y("value",u(E).admission_number)} type="text" required placeholder="e.g. TC/2026/001" class="w-full border-gray-300 rounded focus:ring-[#09033B] focus:border-[#09033B] p-2 border text-sm"></div><div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">Gender</label><select class="w-full border-gray-300 rounded focus:ring-[#09033B] focus:border-[#09033B] p-2 border text-sm"><option${h(Array.isArray(u(E).gender)?w(u(E).gender,null):k(u(E).gender,null))?" selected":""}>Male</option><option${h(Array.isArray(u(E).gender)?w(u(E).gender,null):k(u(E).gender,null))?" selected":""}>Female</option></select></div><div class="pt-4 flex justify-end gap-3"><button type="button" class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded">Cancel</button><button type="submit"${h(u(q))?" disabled":""} class="bg-[#09033B] text-white px-6 py-2 rounded text-sm font-bold hover:bg-opacity-90 disabled:opacity-50">${f(u(q)?"Saving...":"Register")}</button></div></form></div></div>`):r("\x3c!----\x3e"),r("</div>")}}}),C=A.setup;A.setup=(e,t)=>{const s=x();return(s.modules||(s.modules=new Set)).add("pages/admin/classes/[id].vue"),C?C(e,t):void 0};export{A as default};
//# sourceMappingURL=_id_-BrMJ4tU2.mjs.map

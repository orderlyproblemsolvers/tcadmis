import{_ as t}from"./nuxt-link-Bg1T6Ek3.mjs";import{_ as e}from"./Icon-nvTqRNH0.mjs";import{defineComponent as i,ref as o,withAsyncContext as s,watch as n,computed as r,mergeProps as d,unref as a,withCtx as l,createVNode as p,createTextVNode as c,useSSRContext as f}from"vue";import{ssrRenderAttrs as x,ssrRenderComponent as m,ssrRenderStyle as g,ssrIncludeBooleanAttr as h,ssrLooseContain as y,ssrLooseEqual as u,ssrInterpolate as v,ssrRenderAttr as b,ssrRenderList as w}from"vue/server-renderer";import{_ as $}from"./virtual_public-CL3mToM-.mjs";import{a as T,c as A}from"./server.mjs";import{u as E}from"./fetch-Cnghzd6E.mjs";import"../_/nitro.mjs";import"@tidbcloud/serverless";import"node:crypto";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"consola";import"node:fs";import"node:path";import"./index-DgrTGmjN.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./asyncData-DWeUa_vf.mjs";import"reka-ui";import"@vueuse/core";import"pinia";import"vue-router";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"@vue/shared";const N=i({__name:"[id]",__ssrInlineRender:!0,async setup(i){let f,N;const{user:k}=T(),z=A().params.id,R=o("2025/2026"),C=o("1st Term"),G=o(!1);o(null);const S=["to seek the exceptional","to serve with humility","to live with tolerance","to care with compassion","to work in unity","to give with joyfulness","to work in the fear of the lord","that is the way of tca"],{data:_,refresh:D}=([f,N]=s(()=>E("/api/report-card",{params:{student_id:z,session:R,term:C}},"$eDJv4CePB5")),f=await f,N(),f);n([R,C],()=>D());const I=r(()=>k.value?.role||"teacher"),j=r(()=>"admin"===I.value?`/admin/students/${z}`:"/teacher/dashboard"),getDisplayTotal=t=>(t=>["ca1","ca2","assignment","class_ex","affective","psychomotor","exam"].some(e=>null!==t[e]&&void 0!==t[e]&&""!==t[e]&&0!==t[e]&&"0"!==t[e]))(t)?0===t.total||"0"===t.total?"":t.total:"",formatScore=t=>null==t||""===t||0===t||"0"===t?"":t;return(i,o,s,n)=>{const r=t,f=e;var T;o(`<div${x(d({class:"min-h-screen bg-gray-100 p-4 print:p-0"},n))}><div class="max-w-[297mm] mx-auto mb-4 flex justify-between items-center print:hidden">`),o(m(r,{to:a(j),class:"text-gray-600 hover:text-[#09033B] text-sm flex items-center gap-1 font-bold"},{default:l((t,e,i,o)=>{if(!e)return[p(f,{name:"i-heroicons-arrow-left",class:"w-4 h-4"}),c(" Back to Dashboard ")];e(m(f,{name:"i-heroicons-arrow-left",class:"w-4 h-4"},null,i,o)),e(" Back to Dashboard ")}),_:1},s)),o(`<div class="flex gap-3 items-center"><select class="border border-gray-300 rounded px-2 py-1 text-sm bg-white focus:ring-[#09033B]"><option${h(Array.isArray(a(R))?y(a(R),null):u(a(R),null))?" selected":""}>2025/2026</option><option${h(Array.isArray(a(R))?y(a(R),null):u(a(R),null))?" selected":""}>2026/2027</option></select><select class="border border-gray-300 rounded px-2 py-1 text-sm bg-white focus:ring-[#09033B]"><option${h(Array.isArray(a(C))?y(a(C),null):u(a(C),null))?" selected":""}>1st Term</option><option${h(Array.isArray(a(C))?y(a(C),null):u(a(C),null))?" selected":""}>2nd Term</option><option${h(Array.isArray(a(C))?y(a(C),null):u(a(C),null))?" selected":""}>3rd Term</option></select><button${h(a(G))?" disabled":""} class="text-white px-4 py-2 rounded shadow font-bold text-sm flex items-center disabled:opacity-50 transition-all" style="${g({"background-color":"#09033B"})}">`),a(G)?o(m(f,{name:"i-heroicons-arrow-path",class:"w-4 h-4 animate-spin mr-2"},null,s)):o(m(f,{name:"i-heroicons-arrow-down-tray",class:"w-4 h-4 mr-2"},null,s)),o(` ${v(a(G)?"Generating...":"Download PDF")}</button></div></div><div class="w-[297mm] h-[210mm] mx-auto shadow-2xl relative flex" style="${g({"background-color":"#ffffff",color:"#000000","font-family":"'Times New Roman', Times, serif",overflow:"hidden"})}"><div style="${g({width:"80%",margin:"7px",padding:"25px",display:"flex","flex-direction":"column","border-radius":"2%",border:"2px solid #000"})}"><div class="flex items-center justify-between border-b-2 pb-3 mb-3" style="${g({"border-bottom-color":"#000000"})}"><div class="flex-1 flex items-center gap-4"><img id="schoolLogoMain"${b("src",$)} alt="TCAD Logo" class="h-14 w-14 object-contain" crossorigin="anonymous"><div><h1 style="${g({"font-size":"22px","font-weight":"900",color:"#000000",margin:"0","text-transform":"uppercase","font-family":"'EB Garamond', serif"})}"> The Covenant Academy </h1><p style="${g({"font-size":"9px","font-weight":"bold",color:"#4b5563",margin:"0","letter-spacing":"1px","font-family":"'EB Garamond', serif"})}"> ......The School of Tomorrow </p></div></div><div class="text-right"><div style="${g({"background-color":"#000000",color:"#ffffff",padding:"4px 12px","font-weight":"700","text-transform":"uppercase","font-size":"11px"})}">${v(a(C))} PROGRESS REPORT | ${v(a(R))}</div></div></div>`),a(_)?o(`<div class="grid grid-cols-4 gap-2 mb-3 p-2 rounded" style="${g({"background-color":"#ffffff","font-size":"10px","font-family":"'Times New Roman', Times, serif"})}"><div class="border-r border-gray-300 pr-2"><p style="${g({color:"#666","font-size":"8px","font-weight":"bold"})}">STUDENT NAME</p><p style="${g({"font-weight":"900","text-transform":"uppercase"})}">${v(a(_).student.last_name)}, ${v(a(_).student.first_name)}</p></div><div class="border-r border-gray-300 px-2"><p style="${g({color:"#666","font-size":"8px","font-weight":"bold"})}">ADMISSION NO</p><p style="${g({"font-weight":"900"})}">${v(a(_).student.admission_number)}</p></div><div class="px-2"><p style="${g({color:"#666","font-size":"8px","font-weight":"bold"})}">CLASS</p><p style="${g({"font-weight":"900"})}">${v(a(_).student.class_level)}</p></div></div>`):o("\x3c!----\x3e"),o(`<div style="${g({flex:"1"})}"><table style="${g({width:"100%","border-collapse":"collapse","font-size":"8.5px"})}"><thead><tr style="${g({"background-color":"#f5f5f5"})}"><th style="${g({"font-weight":"800",padding:"4px","text-align":"left","vertical-align":"middle"})}"> SUBJECT </th><th colspan="2" style="${g({"font-weight":"600",padding:"2px","text-align":"center"})}"> COGNITIVE 20%/40% </th><th colspan="4" style="${g({"font-weight":"600",padding:"2px","text-align":"center"})}"></th><th style="${g({"font-weight":"800","text-align":"center","background-color":"#f5f5f5",width:"8%","vertical-align":"middle"})}"> EXAM </th><th style="${g({"font-weight":"800","text-align":"center",width:"8%","background-color":"#ff8080","vertical-align":"middle"})}"> TOTAL </th><th style="${g({"font-weight":"800","text-align":"center",width:"6%","vertical-align":"middle"})}"> GRADE </th></tr><tr style="${g({"background-color":"#f5f5f5","font-size":"7.5px"})}"><th style="${g({"border-top":"none",height:"0px",padding:"0"})}"></th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">1st CA</th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">2nd CA</th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">Assgnment</th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">Class Exercise</th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">Affective</th><th style="${g({"font-size":"9.5px","font-weight":"700",padding:"5px 4px",width:"8%"})}">Psycomotor</th><th style="${g({"font-size":"9px","font-weight":"800","text-align":"center",width:"8%","background-color":"#f5f5f5","vertical-align":"middle"})}">40/60</th><th style="${g({"font-size":"9px","font-weight":"800","text-align":"center",width:"8%","background-color":"#ff8080","vertical-align":"middle"})}">100</th><th style="${g({"border-top":"none",height:"0px",padding:"0"})}"></th></tr></thead><tbody>\x3c!--[--\x3e`),w(a(_)?.academics,t=>{var e;o(`<tr style="${g({"font-family":"'Times New Roman', Times, serif"})}"><td style="${g({padding:"1.5px 5px","font-weight":"600","font-size":"11px"})}">${v(t.subject)}</td>\x3c!--[--\x3e`),w(["ca1","ca2","assignment","class_ex","affective","psychomotor"],e=>{o(`<td style="${g({"text-align":"center","font-size":"12px"})}">${v(formatScore(t[e]))}</td>`)}),o(`\x3c!--]--\x3e<td style="${g({"font-size":"12px","text-align":"center","padding-bottom":"2px","font-weight":"700","background-color":"#f9fafb"})}">${v(formatScore(t.exam))}</td><td style="${g({"font-size":"12px","text-align":"center","padding-bottom":"2px","font-weight":"700","background-color":"#ff8080"})}">${v(getDisplayTotal(t))}</td><td style="${g({"font-size":"12px","text-align":"center","padding-bottom":"2px","font-weight":"700"})}">${v(getDisplayTotal(t)?(e=t.total,e>=80?"EXC":e>=70?"VG":e>=60?"G":e>=55?"S":e>=50?"NI":"NGI"):"")}</td></tr>`)}),o("\x3c!--]--\x3e\x3c!--[--\x3e"),w(Math.max(0,18-(a(_)?.academics?.length||0)),t=>{o("<tr>\x3c!--[--\x3e"),w(10,t=>{o(`<td style="${g({border:"1px solid #000",height:"16px"})}"></td>`)}),o("\x3c!--]--\x3e</tr>")}),o(`\x3c!--]--\x3e</tbody></table></div><div style="${g({"margin-top":"10px","border-top":"2px solid #000","padding-top":"10px"})}"><div style="${g({display:"flex",gap:"20px"})}"><div style="${g({flex:"1",border:"1px solid #ccc",padding:"5px"})}"><p style="${g({"font-size":"8px","font-weight":"900","margin-bottom":"3px"})}">GRADING KEY</p><div style="${g({display:"grid","grid-template-columns":"1fr 1fr","font-size":"7.5px","font-weight":"bold"})}"><div style="${g({display:"flex","flex-direction":"column"})}"><span>EXC: EXCELLENT</span><span>VG: VERY GOOD</span><span>G: GOOD</span></div><div style="${g({display:"flex","flex-direction":"column"})}"><span>S: SATISFACTORY</span><span>NI: NEEDS IMPROVEMENT</span><span>NGI: NEEDS GREAT IMPROVEMENT</span></div></div></div><div style="${g({flex:"1.5",border:"1px solid #000",padding:"5px","background-color":"#fcfcfc","font-family":"'Times New Roman', Times, serif"})}"><div style="${g({display:"grid","grid-template-columns":"1fr 1fr",gap:"x-4","font-size":"10px","font-weight":"bold"})}"><div><p>TOTAL PACES: <span style="${g({"font-weight":"900",color:"#000"})}">${v(a(_)?.meta?.total_paces||"--")}</span></p><p>PACE AVERAGE: <span style="${g({"font-weight":"900",color:"#000"})}">${v(a(_)?.meta?.pace_average||"--")}</span></p><p>READING COMP.: <span style="${g({"font-weight":"900",color:"#000"})}">${v(a(_)?.meta?.reading_comprehension||"--")}</span></p></div><div style="${g({"text-align":"right"})}"><p>DAYS ABSENT: <span style="${g({"font-weight":"900",color:"#000000"})}">${v(a(_)?.meta?.days_absent||"0")}</span></p><p>NEXT TERM BEGINS: <span style="${g({"font-weight":"900",color:"#000000"})}">${v((T=a(_)?.meta?.next_term_begins,T?new Date(T).toLocaleDateString():"TBA"))}</span></p></div></div></div></div><div style="${g({display:"flex","justify-content":"space-between","align-items":"flex-end","margin-top":"5px","font-family":"'Times New Roman', Times, serif"})}"><div style="${g({"font-size":"8px",color:"#555",width:"40%"})}"><p>* Class Exercise: Quiz, Debates, Projects.</p><p>* Affective: Attendance, Appearance, Honesty, Punctuality.</p><p>* Psychomotor: Note copying, Practicals, Clubs.</p></div><div style="${g({display:"flex",gap:"30px"})}"><div style="${g({"text-align":"center",width:"110px","border-top":"1px solid #000","font-size":"8px","font-weight":"bold","padding-top":"2px"})}">GENERAL COMMENTS</div><div style="${g({"text-align":"center",width:"110px","border-top":"1px solid #000","font-size":"8px","font-weight":"bold","padding-top":"2px"})}">PRINCIPAL SIGNATURE</div><div style="${g({"text-align":"center",width:"110px","border-top":"1px solid #000","font-size":"8px","font-weight":"bold","padding-top":"2px"})}">PARENT SIGNATURE</div></div></div></div></div><div style="${g({width:"20%","background-color":"#fdfdfd",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-between",padding:"30px 5px","font-family":"'Times New Roman', Times, serif"})}"><div style="${g({display:"flex","flex-direction":"column","align-items":"center",gap:"12px","text-align":"center"})}"><h3 style="${g({"font-weight":"700","font-size":"16px",color:"#000000","text-transform":"uppercase","letter-spacing":"1.5px","padding-bottom":"5px"})}">The Way of <span style="${g({background:"black",color:"#ffffff","padding-top":"20px","padding-bottom":"8px"})}">TCA</span></h3><div style="${g({display:"flex",gap:"2px"})}"><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div><div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div></div>\x3c!--[--\x3e`),w(S,(t,e)=>{o(`<div style="${g({display:"flex","flex-direction":"column","align-items":"center",gap:"12px"})}"><p style="${g({"font-size":"14px","font-weight":"500","text-transform":"uppercase",color:"#1e293b",margin:"0","line-height":"1.3","max-width":"150px"})}">${v(t)}</p>`),o(e<S.length-1?`<div style="${g({width:"5px",height:"5px","background-color":"#000000","border-radius":"50%"})}"></div>`:"\x3c!----\x3e"),o("</div>")}),o(`\x3c!--]--\x3e</div><div style="${g({display:"flex","flex-direction":"column","align-items":"center",gap:"15px",width:"100%"})}"><img${b("src",$)} alt="TCAD Logo" class="h-28 w-28 object-contain" crossorigin="anonymous"><div style="${g({width:"100px",height:"60px","background-color":"#000000"})}"></div></div></div></div></div>`)}}}),k=N.setup;N.setup=(t,e)=>{const i=f();return(i.modules||(i.modules=new Set)).add("pages/report/[id].vue"),k?k(t,e):void 0};export{N as default};
//# sourceMappingURL=_id_-CN1whmNe.mjs.map
